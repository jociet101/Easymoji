<!DOCTYPE html>
<html>
<head>
  <title>Easymoji</title>

  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="index.css" />

  <!-- Logo Icon -->
  <link rel="icon" type="image/x-icon" href="logo.jpg" />

</head>
<body>
    <h1>Easymoji</h1>
    <p>We use emojis teehee</p>
    <ul>
      <li>Instruction 1</li>
      <li>Instruction 2</li>
      <li>Instruction 3</li>
    </ul>
    <br><br>
    <button onclick="buttonFunc()">Test</button><br>
    <textarea id="user_input" name="user_input" rows="30" cols="40"></textarea> <br><br>

    <button>Clear</button><br>
    <textarea id="output" name="output" rows="30" cols="40"></textarea>
    
    
</body>
<script>
    (()=>{
        const console_log = window.console.log;
        window.console.log = function(...args){
            console_log(...args);
            var textarea = document.getElementById('output');
            if(!textarea) return;
            args.forEach(arg=>textarea.value += `${arg}\n`);
        }
    })();
    const buttonFunc = async () => {
        var user_in = document.getElementById("user_input").value;
        // console.log(user_in);

        const rawResponse = await fetch('http://localhost:3000/idk', {
            method: 'POST',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ "user_input": user_in })
        });
        const content = await rawResponse.json();
        eval(content);
        
    }
</script>
</html>